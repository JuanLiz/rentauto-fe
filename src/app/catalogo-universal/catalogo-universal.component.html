<body>

  <div style="text-align:center">
    <h1>{{ title }}</h1>
    <img width="300" alt="Logo Proyecto" src="/assets/CatalogoUniversal.jpg">
  </div>

  <br><br>

  <div class="dir">

    <h3><a routerLink="/Personas">PERSONAS</a></h3>

  </div>
  <br><br>

  <!--------------------------------------------------------------------------------------------->
  <!-- para mostrar los Catalogos Totales -->

  <div class="listaU">

    <h2>Todos los Catalogos</h2>


    <form (ngSubmit)="consultaCatalogosTotales()" [formGroup]="ListarCatTotales">

      <button type="submit" style="margin-right: 30px">Listar todos los Catalogos</button>
      <button (click)="LimpiarLista()" style="scroll-margin-left: 30px">Linpiar todos los Catalogos</button>

      <br><br>

      <h2>{{tituloCataUniLista}}</h2>
      <table>
        <thead>
          <th>{{tablacatalogosstotales[0]}}</th>
          <th>{{tablacatalogosstotales[1]}}</th>
          <th>{{tablacatalogosstotales[2]}}</th>
        </thead>

        <tbody>
          <tr *ngFor="let catu of Universal">

            <th> {{ catu.id_catalogo }} </th>
            <th>{{ catu.denominacion_catalogo }} </th>
            <th>{{ catu.llave_foranea_catalogo}} </th>

          </tr>
        </tbody>
      </table>

    </form>

  </div>
  <br><br>



  <!--Gemerar tarjetas por cada FormGroup de universalTipos -->
  <ng-container *ngIf="asyncReady else loading">
    <div *ngFor="let catalogo of universalTipos">
      <form [formGroup]="formGroups[catalogo.id_catalogo]">
        <h3>{{ catalogo.denominacion_catalogo }}</h3>

        <!-- <label for="id_catalogo">ID:</label>
        <input type="text" id="id_catalogo" formControlName="id_catalogo" readonly>

        <label for="denominacion_catalogo">Denominación:</label>
        <input type="text" id="denominacion_catalogo" formControlName="denominacion_catalogo">

        <label for="llave_foranea_catalogo">Llave Foránea:</label>
        <input type="text" id="llave_foranea_catalogo" formControlName="llave_foranea_catalogo"> -->

        <!-- <select class="dropdown" style="width: 150px" formControlName="CatColorfiltro" (click)="ListarCatalogoE(2)">
            <option value="value1">Colores</option>
            <option *ngFor="let item of catalogo.list" [value]="item">
              {{item.denominacion_catalogo}}
            </option>
          </select> -->

        <select class="dropdown" style="width: 150px" formControlName="denominacion_catalogo">
          <!-- <option value="value1">Colores</option> -->

          <option *ngFor="let item of formGroups[catalogo?.id_catalogo]?.get('lista')?.value"
            [value]="item.id_catalogo">
            {{item.denominacion_catalogo}}
          </option>
        </select>

        <button (click)="printId(catalogo.id_catalogo)">Mostrar Valor</button>
        <p *ngIf="selected[catalogo.id_catalogo]">Valor seleccionado: {{ selected[catalogo.id_catalogo] }}</p>

      </form>
    </div>
  </ng-container>

  <ng-template #loading>
    loading...
  </ng-template>

  <!--------------------------------------------------------------------------------------------->
  <!-- para mostrar un solo Catalogo Colores -->

  <!-- <div class="colo">
    <h2>Mostramos el Catalogo de Colores: </h2>

    <form (ngSubmit)="ListarCatalogoE(1)" [formGroup]="CBCatalogoColor">
      Colores
      <select class="dropdown" style="width: 150px" formControlName="CatColorfiltro" (click)="ListarCatalogoE(2)">
        <option value="value1">Colores</option>
        <option *ngFor="let lor of CataUniColor" [value]="lor.id_catalogo">
          {{lor.denominacion_catalogo}}
        </option>
      </select>

      <button (click)="SelecCatalogoE(2, 1)">Buscar valor a guardar</button>
      <br> <br>
      <li *ngFor="let colo of CataUniColorSel">
        Valor selecionado
        <label for="EColor"><input type="text" name="EColor" id="EColor" value={{colo.denominacion_catalogo}}
            [(ngModel)]="colo.id_catalogo" [value]="colo.id_catalogo" formControlName="textColor"></label>
      </li>
      <br>

    </form>

    <br>

  </div>
  <br><br> -->

  <!--------------------------------------------------------------------------------------------->
  <!-- para mostrar un solo Catalogo Tipos de Vehiculo -->

  <!-- <div class="Tipveh">
    <h2>Mostramos el Catalogo de Tipos de Vehículo: </h2>

    <form (ngSubmit)="ListarCatalogoE(1)" [formGroup]="CBCatalogoTipVehi">
      Tipos de Vehículos
      <select class="dropdown" style="width: 150px" formControlName="CatTipVehifiltro" (click)="ListarCatalogoE(3)">
        <option value="value1">Tipos de Vehículos</option>
        <option *ngFor="let TiVe of UniversalipVehi" [value]="TiVe.id_catalogo">
          {{TiVe.denominacion_catalogo}}
        </option>
      </select>

      <button (click)="SelecCatalogoE(3, 1)">Buscar valor a guardar</button>
      <br> <br>
      <li *ngFor="let tipveh of UniversalipVehiSel">
        Valor selecionado
        <label for="ETipVeh"><input type="text" name="ETipVeh" id="ETipVeh" value={{tipveh.id_catalogo}}
            [(ngModel)]="tipveh.id_catalogo" [value]="tipveh.id_catalogo" formControlName="textTivVehi"></label>
      </li>
      <br>

    </form>

    <br>

  </div>
  <br><br> -->
  <!--------------------------------------------------------------------------------------------->
  <!-- para crear un nuevo Catalogo Universal -->

  <div class="creaU">

    <h2>Registrar un Nuevo Catalogo Universal</h2>

    <form (ngSubmit)="insertUniversal()" [formGroup]="insertUniversalGroup">

      <!-- Los otros controles para la captura de los datos del Catalogo -->
      <span class="spn_lbl">Denominación</span>
      <label for="createUniversalText">
        <input type="text" name="createUniversalText" id="createUniversalText" formControlName="createUniversalText">
      </label>
      <br><br>

      <span class="spn_lbl">Tipo de Catalogo</span>
      <label for="createUniversalTipo">
        <select class="dropdown" formControlName="createUniversalTipo" (click)="ListarCatalogoE(1)">
          <option *ngFor="let catalogo of universalTipos" [value]="catalogo.id_catalogo">
            {{catalogo.denominacion_catalogo}}
          </option>
        </select>
      </label>
      <br> <br>

      <button type="submit">Nuevo Catalogo Universal</button>
      <br><br>
    </form>
  </div>
  <br><br>


  <!--------------------------------------------------------------------------------------------->
  <!-- para Actualizar un Catalogo Universal -->

  <div class="editU">

    <h2>Modificar un Catalogo Universal</h2>

    <form (ngSubmit)="updateUniversal()" [formGroup]="updateUniversalGroup">

      <span class="spn_lbl">Catalogo a Editar</span>
      <label>
        <select class="dropdown2" formControlName="updateUniversalId" (change)="getById()">
          <option *ngFor="let caese of Universal" [value]="caese.id_catalogo">
            {{caese.denominacion_catalogo}} - {{caese.llave_foranea_catalogo}}
          </option>
        </select>
      </label>
      <br> <br>

      <h2>{{titloCataUniEditar}}</h2>

      <li *ngFor="let cae of CataUniCataEdi">

        <br> <br>

        <!-- Los otros controles para la captura de los datos deL cATALOGO -->

        <span class="spn_lbl">Denominacion</span>
        <label for="updateUniversalText">
          <input type="text" name="updateUniversalText" id="updateUniversalText" value={{cae.denominacion_catalogo}}
            [(ngModel)]="cae.denominacion_catalogo" [value]="cae.denominacion_catalogo"
            formControlName="updateUniversalText"></label>
        <br><br>

        <span class="spn_lbl">Tipo de Catalogo</span>
        <label for="updateUniversalTipo">
          <select class="dropdown" formControlName="updateUniversalTipo" [(ngModel)]="cae.id_catalogo">
            <option *ngFor="let catalogo of universalTipos" [value]="catalogo.id_catalogo"
              >
              {{catalogo.denominacion_catalogo}}
            </option>
          </select>

        </label>
        <br><br>


      </li>
      <br><br>

      <button type="submit">Actualizar Registro</button>

      <br><br>

    </form>
  </div>



  <!--------------------------------------------------------------------------------------------->

  <div class="dir">

    <h3><a routerLink="/Personas">PERSONAS</a></h3>

  </div>